<md-content class="md-padding">
    <div class="container-top">
        <div class="section">
            <h2 ng-if="!campaign.id" class="title">Leads</h2>
            <h2 ng-if="!!campaign.id" class="title">Campaign - Leads</h2>
            <p class="last-update">Last added {{getLastCreatedAt(leads) | lastUpdated}}</p>
        </div>

        <div class="section">
            <div class="search-input-wrap">
                <input ng-model="searchTxT" type="text" class="input" placeholder="Search ...">
            </div>

            <md-button href="#/leads-management/new" ng-click="setRootCampaignId()" class="md-raised button lg bg-blue">
                Add New Lead
            </md-button>
        </div>
    </div>
    <div class="table-wrap">
        <table ng-table="CampaignLeads" class="table" show-filter="false">
            <tr ng-repeat="item in $data | filter : searchTxT" class="table-row">
                <td title="'Lead ID'" filter="{ displayId: 'text'}" sortable="'displayId'">
                    <h4 class="color-dark-blue">{{item.displayId}}</h4>
                </td>
                <td title="'Campaign ID'" filter="{ campaignDisplayId: 'text'}" sortable="'campaignDisplayId'">
                    <h4 class="color-dark-blue">{{item.campaignDisplayId || '-'}}</h4>
                </td>
                <td title="'First Name'" filter="{ fName: 'text'}" sortable="'fName'">
                    {{item.fName}}
                </td>
                <td title="'Last Name'" filter="{ lName: 'text'}" sortable="'lName'">
                    {{item.lName}}
                </td>
                <td title="'Contact Number'" filter="{ contact: 'text'}" sortable="'contact'">
                    {{item.contact1}}
                </td>
                <td title="'Date of Birth'" filter="{ dob: 'text'}" sortable="'dob'">
                    {{item.dob | formatDate}}
                </td>
                <td title="'Branch'" filter="{ branch: 'text'}" sortable="'branch'">
                    {{item.branch}}
                </td>
                <td title="'Nationality'" filter="{ nationality: 'text'}" sortable="'nationality'">
                    {{item.nationality}}
                </td>
                <td>
                    <md-button ng-click="openSideNav('leads-management-leads', item)" class="md-primary button">Manage</md-button>
                </td>
                <td>
                    <md-button class="md-secondary button">Remove</md-button>
                </td>
            </tr>
        </table>
    </div>
</md-content>